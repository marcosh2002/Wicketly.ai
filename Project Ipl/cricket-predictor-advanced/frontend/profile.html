<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>Profile</title><link rel="stylesheet" href="assets/css/style.css"></head>
<body>
  <h1>Profile</h1>
  <input id="usernameInput" placeholder="username">
  <button id="loadProfile">Load</button>
  <div id="predictionsList"></div>

  <script>
  document.getElementById('loadProfile').addEventListener('click', async ()=>{
    const u = document.getElementById('usernameInput').value.trim();
    if(!u) return alert('enter username');
    const res = await fetch(`http://localhost:8000/users/${encodeURIComponent(u)}/predictions`);
    const data = await res.json();
    if(!data.ok) return alert('No user or error');
    const html = (data.predictions || []).map(p=>`<div style="border:1px solid #ccc;padding:8px;margin:6px;">
      <strong>${p.input?.team1} vs ${p.input?.team2}</strong><br>
      ${p.result?.predicted_winner ? 'Winner: '+p.result.predicted_winner : ''}<br>
      <small>${p.timestamp}</small>
    </div>`).join('');
    document.getElementById('predictionsList').innerHTML = html || '<em>No predictions</em>';
  });
  </script>
</body>
</html>