<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Upload Scorecard</title>
  <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
  <main style="padding:20px; max-width:900px; margin:auto;">
    <h1>Upload Scorecard CSV</h1>
    <p>Select a CSV scorecard (columns like batsman,runs or bowler,wickets recommended)</p>

    <input type="file" id="file" accept=".csv" />
    <button id="up">Upload</button>

    <h3>Result</h3>
    <pre id="out" style="background:#f7f7f7;padding:12px;border:1px solid #ddd;"></pre>
  </main>

  <script>
  document.getElementById('up').addEventListener('click', async ()=> {
    const f = document.getElementById('file').files[0];
    if (!f) return alert('Select a CSV file first');
    const fd = new FormData(); fd.append('file', f);

    try {
      const res = await fetch('http://localhost:8000/upload/scorecard', {
        method: 'POST',
        body: fd
      });
      const data = await res.json();
      document.getElementById('out').textContent = JSON.stringify(data, null, 2);
    } catch (err) {
      console.error(err);
      document.getElementById('out').textContent = 'Upload failed: ' + err.message;
    }
  });
  </script>
</body>
</html>